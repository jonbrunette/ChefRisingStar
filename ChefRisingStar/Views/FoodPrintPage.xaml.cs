using ChefRisingStar.Models;
using ChefRisingStar.ViewModels;
using System;
using System.ComponentModel;
using Xamarin.Forms;
using Xamarin.Forms.Xaml;

namespace ChefRisingStar.Views
{
    [XamlCompilation(XamlCompilationOptions.Compile)]
    public partial class FoodPrintsDetailPage : ContentPage, INotifyPropertyChanged
    {
        private string section = "Food Print";

        public Recipe selectedRecipe = new Recipe();

        public FoodPrintsDetailPage()
        {
            InitializeComponent();
            //selectedRecipe = getReciep();312 278 5943
            Console.WriteLine("received recipe{0}", selectedRecipe);

            BindingContext = new FoodPrintViewModel(selectedRecipe);
        }

        //private Recipe getReciep()
        //{
        //    string jsonstring = "{\"vegetarian\": true,\n  \"vegan\": false,\n  \"glutenFree\": false,\n  \"dairyFree\": false,\n  \"veryHealthy\": false,\n  \"cheap\": false,\n  \"veryPopular\": false,\n  \"sustainable\": false,\n  \"weightWatcherSmartPoints\": 12,\n  \"gaps\": \"no\",\n  \"lowFodmap\": false,\n  \"aggregateLikes\": 34,\n  \"spoonacularScore\": 24.0,\n  \"healthScore\": 1.0,\n  \"creditsText\": \"Foodista.com – The Cooking Encyclopedia Everyone Can Edit\",\n  \"license\": \"CC BY 3.0\",\n  \"sourceName\": \"Foodista\",\n  \"pricePerServing\": 110.25,\n  \"extendedIngredients\": [\n    {\n      \"id\": 9003,\n      \"aisle\": \"Produce\",\n      \"image\": \"apple.jpg\",\n      \"consistency\": \"solid\",\n      \"name\": \"apples\",\n      \"nameClean\": \"apple\",\n      \"original\": \"7-8 baking apples (ie: Granny Smith)\",\n      \"originalString\": \"7-8 baking apples (ie: Granny Smith)\",\n      \"originalName\": \"baking apples (ie: Granny Smith)\",\n      \"amount\": 7.0,\n      \"unit\": \"\",\n      \"meta\": [\n        \"(ie: Granny Smith)\"\n      ],\n      \"metaInformation\": [\n        \"(ie: Granny Smith)\"\n      ],\n      \"measures\": {\n        \"us\": {\n          \"amount\": 7.0,\n          \"unitShort\": \"\",\n          \"unitLong\": \"\"\n        },\n        \"metric\": {\n          \"amount\": 7.0,\n          \"unitShort\": \"\",\n          \"unitLong\": \"\"\n        }\n      }\n    },\n    {\n      \"id\": 9021,\n      \"aisle\": \"Produce\",\n      \"image\": \"apricot.jpg\",\n      \"consistency\": \"solid\",\n      \"name\": \"apricot\",\n      \"nameClean\": \"apricot\",\n      \"original\": \"4-5 Tbs apricot preserve melted\",\n      \"originalString\": \"4-5 Tbs apricot preserve melted\",\n      \"originalName\": \"apricot preserve melted\",\n      \"amount\": 4.0,\n      \"unit\": \"Tbs\",\n      \"meta\": [\n        \"melted\"\n      ],\n      \"metaInformation\": [\n        \"melted\"\n      ],\n      \"measures\": {\n        \"us\": {\n          \"amount\": 4.0,\n          \"unitShort\": \"Tbs\",\n          \"unitLong\": \"Tbs\"\n        },\n        \"metric\": {\n          \"amount\": 4.0,\n          \"unitShort\": \"Tbs\",\n          \"unitLong\": \"Tbs\"\n        }\n      }\n    },\n    {\n      \"id\": 1001,\n      \"aisle\": \"Milk, Eggs, Other Dairy\",\n      \"image\": \"butter-sliced.jpg\",\n      \"consistency\": \"solid\",\n      \"name\": \"butter\",\n      \"nameClean\": \"butter\",\n      \"original\": \"1 stick butter, softened\",\n      \"originalString\": \"1 stick butter, softened\",\n      \"originalName\": \"butter, softened\",\n      \"amount\": 1.0,\n      \"unit\": \"stick\",\n      \"meta\": [\n        \"softened\"\n      ],\n      \"metaInformation\": [\n        \"softened\"\n      ],\n      \"measures\": {\n        \"us\": {\n          \"amount\": 1.0,\n          \"unitShort\": \"stick\",\n          \"unitLong\": \"stick\"\n        },\n        \"metric\": {\n          \"amount\": 1.0,\n          \"unitShort\": \"stick\",\n          \"unitLong\": \"stick\"\n        }\n      }\n    },\n    {\n      \"id\": 2010,\n      \"aisle\": \"Spices and Seasonings\",\n      \"image\": \"cinnamon.jpg\",\n      \"consistency\": \"solid\",\n      \"name\": \"cinnamon\",\n      \"nameClean\": \"cinnamon\",\n      \"original\": \"1/2 teaspoon Cinnamon\",\n      \"originalString\": \"1/2 teaspoon Cinnamon\",\n      \"originalName\": \"Cinnamon\",\n      \"amount\": 0.5,\n      \"unit\": \"teaspoon\",\n      \"meta\": [\n\n      ],\n      \"metaInformation\": [\n\n      ],\n      \"measures\": {\n        \"us\": {\n          \"amount\": 0.5,\n          \"unitShort\": \"tsps\",\n          \"unitLong\": \"teaspoons\"\n        },\n        \"metric\": {\n          \"amount\": 0.5,\n          \"unitShort\": \"tsps\",\n          \"unitLong\": \"teaspoons\"\n        }\n      }\n    },\n    {\n      \"id\": 1017,\n      \"aisle\": \"Cheese\",\n      \"image\": \"cream-cheese.jpg\",\n      \"consistency\": \"solid\",\n      \"name\": \"cream cheese\",\n      \"nameClean\": \"cream cheese\",\n      \"original\": \"2 -8oz packages cream cheese softened\",\n      \"originalString\": \"2 -8oz packages cream cheese softened\",\n      \"originalName\": \"packages cream cheese softened\",\n      \"amount\": 2.0,\n      \"unit\": \"oz\",\n      \"meta\": [\n        \"softened\"\n      ],\n      \"metaInformation\": [\n        \"softened\"\n      ],\n      \"measures\": {\n        \"us\": {\n          \"amount\": 2.0,\n          \"unitShort\": \"oz\",\n          \"unitLong\": \"ounces\"\n        },\n        \"metric\": {\n          \"amount\": 56.699,\n          \"unitShort\": \"g\",\n          \"unitLong\": \"grams\"\n        }\n      }\n    },\n    {\n      \"id\": 1123,\n      \"aisle\": \"Milk, Eggs, Other Dairy\",\n      \"image\": \"egg.png\",\n      \"consistency\": \"solid\",\n      \"name\": \"eggs\",\n      \"nameClean\": \"egg\",\n      \"original\": \"2 eggs\",\n      \"originalString\": \"2 eggs\",\n      \"originalName\": \"eggs\",\n      \"amount\": 2.0,\n      \"unit\": \"\",\n      \"meta\": [\n\n      ],\n      \"metaInformation\": [\n\n      ],\n      \"measures\": {\n        \"us\": {\n          \"amount\": 2.0,\n          \"unitShort\": \"\",\n          \"unitLong\": \"\"\n        },\n        \"metric\": {\n          \"amount\": 2.0,\n          \"unitShort\": \"\",\n          \"unitLong\": \"\"\n        }\n      }\n    },\n    {\n      \"id\": 18617,\n      \"aisle\": \"Sweet Snacks\",\n      \"image\": \"graham-crackers.jpg\",\n      \"consistency\": \"solid\",\n      \"name\": \"graham crackers\",\n      \"nameClean\": \"graham crackers\",\n      \"original\": \"8-9 Graham crackers finely chopped to crumbs = 1+ cups\",\n      \"originalString\": \"8-9 Graham crackers finely chopped to crumbs = 1+ cups\",\n      \"originalName\": \"Graham crackers finely chopped to crumbs = 1+ cups\",\n      \"amount\": 8.0,\n      \"unit\": \"\",\n      \"meta\": [\n        \"finely chopped\"\n      ],\n      \"metaInformation\": [\n        \"finely chopped\"\n      ],\n      \"measures\": {\n        \"us\": {\n          \"amount\": 8.0,\n          \"unitShort\": \"\",\n          \"unitLong\": \"\"\n        },\n        \"metric\": {\n          \"amount\": 8.0,\n          \"unitShort\": \"\",\n          \"unitLong\": \"\"\n        }\n      }\n    },\n    {\n      \"id\": 12142,\n      \"aisle\": \"Nuts;Baking\",\n      \"image\": \"pecans.jpg\",\n      \"consistency\": \"solid\",\n      \"name\": \"pecans\",\n      \"nameClean\": \"pecans\",\n      \"original\": \"1/4 cup chopped pecans\",\n      \"originalString\": \"1/4 cup chopped pecans\",\n      \"originalName\": \"chopped pecans\",\n      \"amount\": 0.25,\n      \"unit\": \"cup\",\n      \"meta\": [\n        \"chopped\"\n      ],\n      \"metaInformation\": [\n        \"chopped\"\n      ],\n      \"measures\": {\n        \"us\": {\n          \"amount\": 0.25,\n          \"unitShort\": \"cups\",\n          \"unitLong\": \"cups\"\n        },\n        \"metric\": {\n          \"amount\": 59.147,\n          \"unitShort\": \"ml\",\n          \"unitLong\": \"milliliters\"\n        }\n      }\n    },\n    {\n      \"id\": 19335,\n      \"aisle\": \"Baking\",\n      \"image\": \"sugar-in-bowl.png\",\n      \"consistency\": \"solid\",\n      \"name\": \"sugar\",\n      \"nameClean\": \"sugar\",\n      \"original\": \"1/2 cup sugar\",\n      \"originalString\": \"1/2 cup sugar\",\n      \"originalName\": \"sugar\",\n      \"amount\": 0.5,\n      \"unit\": \"cup\",\n      \"meta\": [\n\n      ],\n      \"metaInformation\": [\n\n      ],\n      \"measures\": {\n        \"us\": {\n          \"amount\": 0.5,\n          \"unitShort\": \"cups\",\n          \"unitLong\": \"cups\"\n        },\n        \"metric\": {\n          \"amount\": 118.294,\n          \"unitShort\": \"ml\",\n          \"unitLong\": \"milliliters\"\n        }\n      }\n    },\n    {\n      \"id\": 2050,\n      \"aisle\": \"Baking\",\n      \"image\": \"vanilla-extract.jpg\",\n      \"consistency\": \"liquid\",\n      \"name\": \"vanilla\",\n      \"nameClean\": \"vanilla extract\",\n      \"original\": \"1/2 tsp vanilla\",\n      \"originalString\": \"1/2 tsp vanilla\",\n      \"originalName\": \"vanilla\",\n      \"amount\": 0.5,\n      \"unit\": \"tsp\",\n      \"meta\": [\n\n      ],\n      \"metaInformation\": [\n\n      ],\n      \"measures\": {\n        \"us\": {\n          \"amount\": 0.5,\n          \"unitShort\": \"tsps\",\n          \"unitLong\": \"teaspoons\"\n        },\n        \"metric\": {\n          \"amount\": 0.5,\n          \"unitShort\": \"tsps\",\n          \"unitLong\": \"teaspoons\"\n        }\n      }\n    }\n  ],\n  \"id\": 633091,\n  \"title\": \"Autumn Cheesecake\",\n  \"readyInMinutes\": 45,\n  \"servings\": 8,\n  \"sourceUrl\": \"http://www.foodista.com/recipe/2HQGVX53/autumn-cheesecake\",\n  \"image\": \"https://spoonacular.com/recipeImages/633091-556x370.jpg\",\n  \"imageType\": \"jpg\",\n  \"summary\": \"Watching your figure? This vegetarian recipe has <b>358 calories</b>, <b>4g of protein</b>, and <b>19g of fat</b> per serving. For <b>$1.1 per serving</b>, this recipe <b>covers 6%</b> of your daily requirements of vitamins and minerals. A couple people made this recipe, and 34 would say it hit the spot. From preparation to the plate, this recipe takes approximately <b>45 minutes</b>. Head to the store and pick up cream cheese, pecans, butter, and a few other things to make it today. All things considered, we decided this recipe <b>deserves a spoonacular score of 26%</b>. This score is not so great. Try <a href=\\\"https://spoonacular.com/recipes/autumn-apple-cheesecake-760758\\\">Autumn Apple Cheesecake</a>, <a href=\\\"https://spoonacular.com/recipes/caramel-apple-butter-cheesecake-dip-for-sundaysupper-autumn-apple-party-554054\\\">Caramel Apple Butter Cheesecake Dip for #SundaySupper Autumn Apple Party</a>, and <a href=\\\"https://spoonacular.com/recipes/california-pizza-kitchen-pumpkin-cheesecake-this-is-a-perfect-cheesecake-for-the-fall-holidays-their-cheesecake-isnt-a-secret-anymore-600275\\\">California Pizza Kitchen Pumpkin Cheesecake – this is a perfect cheesecake for the fall holidays, their cheesecake isn’t a secret anymore</a> for similar recipes.\",\n  \"cuisines\": [\n\n  ],\n  \"dishTypes\": [\n    \"side dish\"\n  ],\n  \"diets\": [\n    \"lacto ovo vegetarian\"\n  ],\n  \"occasions\": [\n\n  ],\n  \"instructions\": \"<ol><li>FOR THE APPLE LAYER:</li><li>Peel and core the apples and slice thinly add to the sugar and cinnamon and mix well until all the apples are coated.  Set aside.</li><li>FOR THE CRUST:</li><li>Preheat oven to 350</li><li>In a small sauce pan melt the butter</li><li>In the food processor add the pecans and chop until very fine, add the Graham crackers and pulse until finely chopped and put mixture into a bowl.  Add the butter and with a fork stir to combine, until all the cracker is wet with butter and no dry parts are still visible.</li><li>Place the mixture into the bottom of a 9 inch springform pan and press down to form a solid bottom crust.  Place into the center of the oven and bake for about 10 minutes, remove to a wire rack to cool..</li><li>FOR THE BATTER:</li><li>In the bowl of the mixer place the softened cream cheese and the sugar and on medium speed cream until well  combined, scrape down the sides of the bowl and the blades of the mixer add the vanilla and on medium low add the eggs one at a time and continue to beat until each is well incorporated.  Pour into the cooled springform pan and smooth the mixture level.</li><li>APPLES:</li><li>Arrange the apples in decorative layer over the batter and then place the pan into the oven and bake for about 70 minutes.</li><li>Remove to a wire rack to cool.</li><li>In the mean time melt the preserve and once the apples a lightly cooled brush the preserve over apples to coat all and give a nice sheen to the top.  Sprinkle the pecans over the apples.  Now carefully run a knife around the edges of the cake to loosen from the sides of the pan and then cover and refrigerate for at least 5 hours, overnight even better.</li><li>Remove from the refrigerator about an hour before serving and remove the sides of the springform  pan.</li></ol>\",\n  \"analyzedInstructions\": [\n    {\n      \"name\": \"\",\n      \"steps\": [\n        {\n          \"number\": 1,\n          \"step\": \"FOR THE APPLE LAYER:Peel and core the apples and slice thinly add to the sugar and cinnamon and mix well until all the apples are coated.  Set aside.FOR THE CRUST:Preheat oven to 350In a small sauce pan melt the butter\",\n          \"ingredients\": [\n            {\n              \"id\": 2010,\n              \"name\": \"cinnamon\",\n              \"localizedName\": \"cinnamon\",\n              \"image\": \"cinnamon.jpg\"\n            },\n            {\n              \"id\": 9003,\n              \"name\": \"apple\",\n              \"localizedName\": \"apple\",\n              \"image\": \"apple.jpg\"\n            },\n            {\n              \"id\": 1001,\n              \"name\": \"butter\",\n              \"localizedName\": \"butter\",\n              \"image\": \"butter-sliced.jpg\"\n            },\n            {\n              \"id\": 0,\n              \"name\": \"crust\",\n              \"localizedName\": \"crust\",\n              \"image\": \"\"\n            },\n            {\n              \"id\": 0,\n              \"name\": \"sauce\",\n              \"localizedName\": \"sauce\",\n              \"image\": \"\"\n            },\n            {\n              \"id\": 19335,\n              \"name\": \"sugar\",\n              \"localizedName\": \"sugar\",\n              \"image\": \"sugar-in-bowl.png\"\n            }\n          ],\n          \"equipment\": [\n            {\n              \"id\": 404669,\n              \"name\": \"sauce pan\",\n              \"localizedName\": \"sauce pan\",\n              \"image\": \"sauce-pan.jpg\"\n            },\n            {\n              \"id\": 404784,\n              \"name\": \"oven\",\n              \"localizedName\": \"oven\",\n              \"image\": \"oven.jpg\"\n            }\n          ]\n        },\n        {\n          \"number\": 2,\n          \"step\": \"In the food processor add the pecans and chop until very fine, add the Graham crackers and pulse until finely chopped and put mixture into a bowl.\",\n          \"ingredients\": [\n            {\n              \"id\": 18617,\n              \"name\": \"graham crackers\",\n              \"localizedName\": \"graham crackers\",\n              \"image\": \"graham-crackers.jpg\"\n            },\n            {\n              \"id\": 12142,\n              \"name\": \"pecans\",\n              \"localizedName\": \"pecans\",\n              \"image\": \"pecans.jpg\"\n            }\n          ],\n          \"equipment\": [\n            {\n              \"id\": 404771,\n              \"name\": \"food processor\",\n              \"localizedName\": \"food processor\",\n              \"image\": \"food-processor.png\"\n            },\n            {\n              \"id\": 404783,\n              \"name\": \"bowl\",\n              \"localizedName\": \"bowl\",\n              \"image\": \"bowl.jpg\"\n            }\n          ]\n        },\n        {\n          \"number\": 3,\n          \"step\": \"Add the butter and with a fork stir to combine, until all the cracker is wet with butter and no dry parts are still visible.\",\n          \"ingredients\": [\n            {\n              \"id\": 18621,\n              \"name\": \"crackers\",\n              \"localizedName\": \"crackers\",\n              \"image\": \"crackers.jpg\"\n            },\n            {\n              \"id\": 1001,\n              \"name\": \"butter\",\n              \"localizedName\": \"butter\",\n              \"image\": \"butter-sliced.jpg\"\n            }\n          ],\n          \"equipment\": [\n\n          ]\n        },\n        {\n          \"number\": 4,\n          \"step\": \"Place the mixture into the bottom of a 9 inch springform pan and press down to form a solid bottom crust.\",\n          \"ingredients\": [\n            {\n              \"id\": 0,\n              \"name\": \"crust\",\n              \"localizedName\": \"crust\",\n              \"image\": \"\"\n            }\n          ],\n          \"equipment\": [\n            {\n              \"id\": 404650,\n              \"name\": \"springform pan\",\n              \"localizedName\": \"springform pan\",\n              \"image\": \"cake-pan.png\"\n            }\n          ]\n        },\n        {\n          \"number\": 5,\n          \"step\": \"Place into the center of the oven and bake for about 10 minutes, remove to a wire rack to cool..FOR THE BATTER:In the bowl of the mixer place the softened cream cheese and the sugar and on medium speed cream until well  combined, scrape down the sides of the bowl and the blades of the mixer add the vanilla and on medium low add the eggs one at a time and continue to beat until each is well incorporated.\",\n          \"ingredients\": [\n            {\n              \"id\": 1017,\n              \"name\": \"cream cheese\",\n              \"localizedName\": \"cream cheese\",\n              \"image\": \"cream-cheese.jpg\"\n            },\n            {\n              \"id\": 1052050,\n              \"name\": \"vanilla\",\n              \"localizedName\": \"vanilla\",\n              \"image\": \"vanilla.jpg\"\n            },\n            {\n              \"id\": 1053,\n              \"name\": \"cream\",\n              \"localizedName\": \"cream\",\n              \"image\": \"fluid-cream.jpg\"\n            },\n            {\n              \"id\": 19335,\n              \"name\": \"sugar\",\n              \"localizedName\": \"sugar\",\n              \"image\": \"sugar-in-bowl.png\"\n            },\n            {\n              \"id\": 1123,\n              \"name\": \"egg\",\n              \"localizedName\": \"egg\",\n              \"image\": \"egg.png\"\n            }\n          ],\n          \"equipment\": [\n            {\n              \"id\": 405900,\n              \"name\": \"wire rack\",\n              \"localizedName\": \"wire rack\",\n              \"image\": \"wire-rack.jpg\"\n            },\n            {\n              \"id\": 404784,\n              \"name\": \"oven\",\n              \"localizedName\": \"oven\",\n              \"image\": \"oven.jpg\"\n            },\n            {\n              \"id\": 404726,\n              \"name\": \"blender\",\n              \"localizedName\": \"blender\",\n              \"image\": \"blender.png\"\n            },\n            {\n              \"id\": 404783,\n              \"name\": \"bowl\",\n              \"localizedName\": \"bowl\",\n              \"image\": \"bowl.jpg\"\n            }\n          ],\n          \"length\": {\n            \"number\": 10,\n            \"unit\": \"minutes\"\n          }\n        },\n        {\n          \"number\": 6,\n          \"step\": \"Pour into the cooled springform pan and smooth the mixture level.APPLES:Arrange the apples in decorative layer over the batter and then place the pan into the oven and bake for about 70 minutes.\",\n          \"ingredients\": [\n            {\n              \"id\": 9003,\n              \"name\": \"apple\",\n              \"localizedName\": \"apple\",\n              \"image\": \"apple.jpg\"\n            }\n          ],\n          \"equipment\": [\n            {\n              \"id\": 404650,\n              \"name\": \"springform pan\",\n              \"localizedName\": \"springform pan\",\n              \"image\": \"cake-pan.png\"\n            },\n            {\n              \"id\": 404784,\n              \"name\": \"oven\",\n              \"localizedName\": \"oven\",\n              \"image\": \"oven.jpg\"\n            }\n          ],\n          \"length\": {\n            \"number\": 70,\n            \"unit\": \"minutes\"\n          }\n        },\n        {\n          \"number\": 7,\n          \"step\": \"Remove to a wire rack to cool.In the mean time melt the preserve and once the apples a lightly cooled brush the preserve over apples to coat all and give a nice sheen to the top.\",\n          \"ingredients\": [\n            {\n              \"id\": 9003,\n              \"name\": \"apple\",\n              \"localizedName\": \"apple\",\n              \"image\": \"apple.jpg\"\n            }\n          ],\n          \"equipment\": [\n            {\n              \"id\": 405900,\n              \"name\": \"wire rack\",\n              \"localizedName\": \"wire rack\",\n              \"image\": \"wire-rack.jpg\"\n            }\n          ]\n        },\n        {\n          \"number\": 8,\n          \"step\": \"Sprinkle the pecans over the apples.  Now carefully run a knife around the edges of the cake to loosen from the sides of the pan and then cover and refrigerate for at least 5 hours, overnight even better.\",\n          \"ingredients\": [\n            {\n              \"id\": 9003,\n              \"name\": \"apple\",\n              \"localizedName\": \"apple\",\n              \"image\": \"apple.jpg\"\n            },\n            {\n              \"id\": 12142,\n              \"name\": \"pecans\",\n              \"localizedName\": \"pecans\",\n              \"image\": \"pecans.jpg\"\n            }\n          ],\n          \"equipment\": [\n            {\n              \"id\": 404745,\n              \"name\": \"knife\",\n              \"localizedName\": \"knife\",\n              \"image\": \"chefs-knife.jpg\"\n            },\n            {\n              \"id\": 404645,\n              \"name\": \"frying pan\",\n              \"localizedName\": \"frying pan\",\n              \"image\": \"pan.png\"\n            }\n          ],\n          \"length\": {\n            \"number\": 300,\n            \"unit\": \"minutes\"\n          }\n        },\n        {\n          \"number\": 9,\n          \"step\": \"Remove from the refrigerator about an hour before serving and remove the sides of the springform  pan.\",\n          \"ingredients\": [\n\n          ],\n          \"equipment\": [\n            {\n              \"id\": 404645,\n              \"name\": \"frying pan\",\n              \"localizedName\": \"frying pan\",\n              \"image\": \"pan.png\"\n            }\n          ]\n        }\n      ]\n    }\n  ],\n  \"originalId\": null,\n  \"spoonacularSourceUrl\": \"https://spoonacular.com/autumn-cheesecake-633091\"\n},"";
        //    var substitution = JsonSerializer.Deserialize<Recipe>(jsonstring);



        //}

    }
}
